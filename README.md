# mypig
# c++个人课设迭代记录，选题：养猪模拟
## 2020-9-15
上传第一个不是很成熟的版本
### 2020-09-16 10:10:00  
`debug`
>>>问题：

如果删除猪的数量超过两个，就会程序异常报错。

>>原因：

移动指针p，p0在函数del_pig（piglist *p）内定义的是局部变量，没有办法改变chujuangouzhu（）函数里的移动指针地址

>解决方法：

将移动指针p，p0从局部变量改为了类的私有成员，解决了删除猪的时候以为指针的地址移到下一只猪而实际没有改变的问题。


### 2020-09-16 17:42:09
`debug`

>>>问题： 

1:保存数据如果猪的个数超过猪圈的个数就会程序异常，导致读取数据也会异常

2： 查询不存在的猪的时候会程序异常并退出

>>原因

1： 在pjuan【99】圈完成猪的数据读取后，又执行了一次flag++，导致下一次访问了pjuan【100】，超过指针数组的范围

2： 当时更改`show_zhuzhu();`为 `QString`类型时没有更改查询不存在的猪的时候的处理，导致访问空指针。

>解决办法

1：加一个if判断防止flag++到100

2：将查询不存在的猪的判断移出到查询按钮的槽函数里面，直接改变textedit的输出，与查询存在的猪形成正确的if（）else（）逻辑。




